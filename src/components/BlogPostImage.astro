---
import { Image } from "astro:assets";

interface Props {
  image: ImageMetadata;
  title: string;
  description?: string;
}

const { image, title, description } = Astro.props;
---

<div class="post-image" data-intersection-observer={true}>
  <figure>
    <Image
      src={image}
      alt={title}
      width={800}
      height={400}
      loading="eager"
    />
  </figure>
  <figcaption>
    {description && <p>{description}</p>}
  </figcaption>
</div>

<style>
  .post-image {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-base);
    margin: var(--spacing-double) 0;

    figure {
      display: flex;
      justify-content: center;
      align-items: center;
      border: 4px solid var(--color-lines);
      border-radius: 12px;
      overflow: hidden;
      filter: drop-shadow(0 0 10px var(--color-lines));

      img {
        width: 100%;
        height: auto;
      }
    }

    figcaption {
      font-size: var(--font-size-small);
    }
  }
</style> 