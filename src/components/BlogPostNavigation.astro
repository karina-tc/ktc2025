---
import type { CollectionEntry } from "astro:content";

interface Props {
  prev: CollectionEntry<"blog"> | null;
  next: CollectionEntry<"blog"> | null;
}

const { prev, next } = Astro.props;
---

<nav class="post-navigation" data-intersection-observer={true}>
  {
    prev && (
      <a href={`/blog/${prev.slug}`} class="prev">
        <span>Previous</span>
        <div>{prev.data.title}</div>
      </a>
    )
  }
  {
    next && (
      <a href={`/blog/${next.slug}`} class="next">
        <span>Next</span>
        <div>{next.data.title}</div>
      </a>
    )
  }
</nav>

<style lang="scss">
  // Breakpoint mixins
  @import "../styles/base/_breakpoints.scss";

  .post-navigation {
    display: grid;
    grid-template-columns: 1fr 1fr;
    margin-top: var(--spacing-double);
    padding-top: var(--spacing-double);
    gap: var(--spacing-base);

    @include tablet {
      grid-template-columns: 1fr;
    }

    a {
      padding: var(--spacing-base);
      background-color: var(--color-surface);
      border: 1px solid var(--color-surface);
      border-radius: 8px;
      text-decoration: none;
      transition: all 0.2s ease;

      &:hover {
        border: 1px solid var(--color-lines);
      }

      span {
        display: block;
        font-size: var(--font-size-small);
        color: var(--color-text-muted);
        margin-bottom: var(--spacing-half);
      }

      div {
        color: var(--color-text);
      }

      &.next {
        text-align: right;

        &:only-child {
          grid-column: 2;
        }
      }
    }
  }
</style>

