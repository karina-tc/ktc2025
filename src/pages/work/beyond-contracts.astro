---
// Components
import BaseLayout from "../../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import { getCaseStudy } from "../../data/case-study-details";
import { checkAccess, hasValidAccessToken } from "../../middleware/checkAccess";

// Case Study Components
import * as Work from "../../components/work/index.js";

// Partials
import QuadrantChart from "../../components/_partials/work/QuadrantChart.astro";
import DataClusters from "../../components/_partials/work/DataClusters.astro";
import BackToTop from "../../components/BackToTop.astro";

//Assets
import scribble from "../../assets/scribbles/loop-down.svg";
import showcaseImage from "../../assets/case-studies/tropic/tropic-supplier-index.png";
import showcaseBackground from "../../assets/backgrounds/noise-1.png";
import showcaseLogo from "../../assets/icons/cv-tropic.png";
import galaxyQuest from "../../assets/illustrations/case-studies/beyond-contracts/galaxy-quest-illus.png";
import cluster01 from "../../assets/illustrations/case-studies/beyond-contracts/data-cluster-01.svg";
import cluster02 from "../../assets/illustrations/case-studies/beyond-contracts/data-cluster-02.svg";
import cluster03 from "../../assets/illustrations/case-studies/beyond-contracts/data-cluster-03.svg";

// Data
const caseStudy = getCaseStudy("beyondContracts");

// Check access
if (Astro.url.pathname && checkAccess(Astro.url.pathname)) {
  const cookies = Astro.request.headers.get("cookie") || "";

  if (!hasValidAccessToken(cookies)) {
    return Astro.redirect(`/work/access?redirect=${Astro.url.pathname}`);
  }
}
---

<BaseLayout title={caseStudy.title} description={caseStudy.description}>

  <!-- Back to Top Button -->
  <BackToTop />

  <!-- Case Study Header -->
  <Work.CaseStudyHeader {...caseStudy} />

  <!-- Showcase -->
  <Work.CaseStudyShowcase
    background={showcaseBackground}
    caption={{
      icon: showcaseLogo,
      title: "What is Tropic?",
      description:
        "Tropic is an intake-to-procure platform that helps companies of all sizes—from startups to enterprises like OpenAI—manage their supplier relationships and reduce unnecessary spending.",
    }}
  >
    <Image
      src={showcaseImage}
      alt="show case image"
      draggable="false"
      width={1220}
      priority
    />
  </Work.CaseStudyShowcase>

  <!-- Spacer -->
  <div class="spacer-small"></div>

  <!-- Case Study Content -->
  <div class="section-container">
    <!-- Impact Section -->
    <Work.ImpactSection
      metrics={[
        {
          metric: "Time Savings",
          value: "+4hrs",
          description: "per week per customer",
        },
        {
          metric: "Customer Engagement",
          value: "+35%",
          description: "increase in engagement",
        },
        {
          metric: "Data Accuracy",
          value: "+50%",
          description: "increase in accuracy",
        },
      ]}
    />

    <!-- Problem -->
    <Work.StorySection kicker="Problem" title="Beyond the Contract Horizon">
      <p>
        Built initially around contracts, Tropic's platform faced a critical
        limitation: <strong
          >suppliers without contracts remained invisible, preventing complete
          spend tracking</strong
        >. Our 2023 customer interviews highlighted this as a major concern.
      </p>
      <p>
        The impact was significant. Shadow spend became harder to track, and <strong
          >customers resorted to using spreadsheets instead of our platform</strong
        >. We needed to reimagine our approach by making suppliers, not
        contracts, the central focus of our platform—creating what we called the
        "supplierverse."
      </p>
      <p>
        <strong>A great solution would increase customers...</strong>
      </p>
      <div class="spacer-small"></div>
      <Work.GridFeatures
        features={[
          {
            title: "Visibility",
            description:
              "360 view of all supplier relationships and spending across the organization",
            isStandout: true,
          },
          {
            title: "Focus",
            description:
              "Streamlined supplier management without difficulties and distractions",
          },
          {
            title: "Clarity",
            description:
              "Clear insights into supplier data, contracts, and spending patterns",
          },
        ]}
      />
    </Work.StorySection>

    <!-- Discovery -->
    <Work.StorySection
      kicker="Discovery"
      title="Galaxy Quest"
      artwork={{
        image: galaxyQuest,
        alt: "Galaxy Quest",
        width: 320,
      }}
    >
      <p>
        To make our experience a supplier centric one, I looked at all the data
        objects that made up a supplier so that we could built that universe.
        Through conversations with our Account Executives about customer
        onboarding, we studied how both clients and our team set up Tropic
        accounts. A clear pattern emerged: the <strong
          >key components of a supplier existed in isolation</strong
        >—like separate moons orbiting without any connection to each other.
      </p>
    </Work.StorySection>

    <!-- Strategy -->
    <Work.StorySection kicker="Strategizing" title="Mission Control">
      <p>
        With supplier data scattered across our procurement universe, we needed
        a mission control center to bring order to the chaos. <strong
          >Our customers needed a single source of truth</strong
        > that would give them complete visibility into their supplier expenses,
        commitments, and usage -
        <strong>but first, we had to tackle the data quality challenge</strong>.
      </p>

      <!-- Rocketship Illustration -->
      <Work.RocketShipPlate
        leftCard={{
          type: "Business Goal",
          title: "Data Quality",
          description: "Enhance data quality and visibility",
        }}
        rightCard={{
          type: "Customer Goal",
          title: "Spend Insights",
          description: "Provide customers financial impact of expenses",
        }}
        caption="Formalizing Our Plan for Launch"
      />

      <p>
        Data cleanup may not sound exciting—I'll admin that it's about as
        thrilling as organizing your sock drawer—but it was crucial.
        <strong
          >We needed to Marie Kondo our experience into a crystal-clear supplier
          system that would truly spark joy for our customers.</strong
        >
      </p>
      <p>
        We needed to organize our data to make it crystal clear how suppliers
        entered our system, while highlighting Tropic's advantages over a basic
        spreadsheet. This approach would provide the comprehensive financial
        reporting our customers needed and help them avoid drifting back into
        XLS space dust.
      </p>
      <p>
        To help me define the borders for our initial exploration, I prioritized
        the initiatives that could help us maximize financial reporting and
        operational value.
      </p>

      <!-- Quadrant Chart -->
      <QuadrantChart />

      <div class="spacer-large"></div>

      <!-- Polishing Data Clusters -->
      <h3>Polishing Data Clusters</h3>
      <p>
        To build the supplierverse, we needed to optimize several key areas
        within Tropic. We approached this by identifying distinct <strong
          >data clusters that required improvement before unifying them</strong
        > into a single, cohesive interface.
      </p>

      <DataClusters
        clusters={[
          {
            icon: cluster01,
            title: "Integrations",
            description:
              "How suppliers are created in Tropic through connected integrations, which can either be the original source of a supplier or provide additional supplier data.",
          },
          {
            icon: cluster02,
            title: "Requests & Contracts",
            description:
              "Suppliers can also originate within Tropic when users submit purchase requests or add new contracts.",
          },
          {
            icon: cluster03,
            title: "Spend Expenses",
            description:
              "Suppliers may or may not have associated costs. The expenses view reveals each supplier's actual financial impact on overall spending.",
          },
        ]}
      />
    </Work.StorySection>

    <!-- Solutioning -->
    <Work.StorySection kicker="Solutioning" title="Universe Building">
      <p>
        With supplier data scattered across our procurement universe, we needed
        a mission control center to bring order to the chaos. Our customers
        needed a single source of truth that would give them complete visibility
        into their supplier expenses, commitments, and usage - but first, we had
        to tackle the data quality challenge.
      </p>

      <h3>Data Integrations</h3>
      <p>
        We began with the foundation: data integrations, which are the primary
        source of supplier information in Tropic. We re-architected our
        integrations pages to answer four key questions:
      </p>

      <ol>
        <li>What data can I bring into Tropic?</li>
        <li>How can I ensure my data is as accurate as possible?</li>
        <li>How can I monitor the status of my data?</li>
        <li>How can I trace the origin of my supplier data?</li>
      </ol>
    </Work.StorySection>
  </div>

  <!-- Scrollable Gallery -->
  <Work.ScrollableGallery
    items={[
      {
        image: showcaseImage,
        alt: "Integrations Index",
        title: "Integrations Index",
        description:
          "Elevated from hidden settings to become a central feature. Enhanced with filters and restructured categories to focus on value rather than market type.",
      },
      {
        image: showcaseImage,
        alt: "Second gallery item",
        title: "Integrations Index",
        description:
          "Elevated from hidden settings to become a central feature. Enhanced with filters and restructured categories to focus on value rather than market type.",
      },
      {
        image: showcaseImage,
        alt: "Third gallery item",
        title: "Integrations Index",
        description:
          "Elevated from hidden settings to become a central feature. Enhanced with filters and restructured categories to focus on value rather than market type.",
      },
    ]}
  />

  <div class="section-container no-gap">
    <Work.StorySection className="no-title">
      <p>
        Onboarding in Tropic can be lengthy since we ensure data accuracy while
        setting up a user's account. To expedite this process and allow
        customers and account executives to focus on complex data translations,
        we needed to use AI to enhance supplier matching between ERPs and
        Tropic.
      </p>
    </Work.StorySection>
  </div>

  <!-- Showcase -->
  <Work.CaseStudyShowcase background={showcaseBackground} backgroundFull={true}>
    <Image
      src={showcaseImage}
      alt="show case image"
      draggable="false"
      width={1220}
      priority
    />
  </Work.CaseStudyShowcase>

  <Work.WorkFooter />
</BaseLayout>

<style lang="scss" scoped>
  // Breakpoint mixins
  @import "../../styles/base/_breakpoints.scss";

  .section-container.no-gap {
    margin-top: -40px;
    margin-bottom: -40px;
  }
</style>
