---
// Components
import BaseLayout from "../../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import CaseStudyHeader from "../../components/work/CaseStudyHeader.astro";
import { getCaseStudy } from "../../data/case-study-details";
import CaseStudyShowcase from "../../components/work/CaseStudyShowcase.astro";
import ImpactSection from "../../components/work/ImpactSection.astro";
import QuadrantChart from "../../components/_partials/work/QuadrantChart.astro";
import StorySection from "../../components/work/StorySection.astro";
import RocketShipPlate from "../../components/work/RocketShipPlate.astro";
import GridFeatures from "../../components/work/GridFeatures.astro";

//Assets
import scribble from "../../assets/scribbles/loop-down.svg";
import showcaseImage from "../../assets/case-studies/tropic/tropic-supplier-index.png";
import showcaseBackground from "../../assets/backgrounds/bgCS.jpg";
import showcaseLogo from "../../assets/icons/cv-tropic.png";
import rocketShip from "../../assets/illustrations/case-studies/beyond-contracts/rocket-ship-illus.png";
import rocketBg from "../../assets/illustrations/case-studies/beyond-contracts/rocket-illus-bg.png";
import galaxyQuest from "../../assets/illustrations/case-studies/beyond-contracts/galaxy-quest-illus.png";

// Data
const caseStudy = getCaseStudy("beyondContracts");
---

<BaseLayout title={caseStudy.title} description={caseStudy.description}>

  <!-- Case Study Header -->
  <CaseStudyHeader {...caseStudy} />

  <!-- Showcase -->
  <CaseStudyShowcase
    background={showcaseBackground}
    caption={{
      icon: showcaseLogo,
      title: "What is Tropic?",
      description:
        "Tropic is an intake-to-procure platform that helps companies of all sizes—from startups to enterprises like OpenAI—manage their supplier relationships and reduce unnecessary spending.",
    }}>
    <Image
      src={showcaseImage}
      alt="show case image"
      draggable="false"
      width={1220}
      priority
    />
  </CaseStudyShowcase>

  <!-- Spacer -->
  <div class="spacer-small"></div>

  <!-- Case Study Content -->
  <div class="section-container">
    <!-- Impact Section -->
    <ImpactSection
      metrics={[
        {
          metric: "Time Savings",
          value: "~4hrs",
          description: "per week per customer",
        },
        {
          metric: "Customer Engagement",
          value: "~10%",
          description: "increase in engagement",
        },
        {
          metric: "Data Accuracy",
          value: "~70%",
          description: "increase in accuracy",
        },
      ]}
    />

    <!-- Problem -->
    <StorySection 
      kicker="Problem"
      title="Beyond the Contract Horizon">
      <p>
        Built initially around contracts, Tropic's platform faced a critical
        limitation: <strong
          >suppliers without contracts remained invisible, preventing complete
          spend tracking</strong
        >. Our 2023 customer interviews highlighted this as a major concern.
      </p>
      <p>
        The impact was significant. Shadow spend became harder to track, and <strong
          >customers resorted to using spreadsheets instead of our platform</strong
        >. We needed to reimagine our approach by making suppliers, not
        contracts, the central focus of our platform—creating what we called the
        "supplierverse."
      </p>
      <p>
        <strong>A great solution would increase customers...</strong>
      </p>
      <div class="spacer-small"></div>
      <GridFeatures
        features={[
          {
            title: "Visibility",
            description: "360 view of all supplier relationships and spending across the organization",
            isStandout: true
          },
          {
            title: "Focus",
            description: "Streamlined supplier management without difficulties and distractions"
          },
          {
            title: "Clarity",
            description: "Clear insights into supplier data, contracts, and spending patterns"
          }
        ]}
      />
    </StorySection>


    <!-- Discovery -->
    <StorySection 
      kicker="Discovery"
      title="Galaxy Quest"
      artwork={{
        image: galaxyQuest,
        alt: "Galaxy Quest",
        width: 320
      }}>
      <p>
        To make our experience a supplier centric one, I looked at all the data
        objects that made up a supplier so that we could built that universe.
        Through conversations with our Account Executives about customer
        onboarding, we studied how both clients and our team set up Tropic
        accounts. A clear pattern emerged: the <strong>key components of a 
          supplier existed in isolation</strong>—like separate moons orbiting 
          without any connection to each other.
      </p>
    </StorySection>

    <!-- Strategy -->
    <StorySection 
      kicker="Strategizing"
      title="Mission Control">
      <p>
        With supplier data scattered across our procurement universe, we needed
        a mission control center to bring order to the chaos. <strong>Our customers 
          needed a single source of truth</strong> that would give them complete 
          visibility into their supplier expenses, commitments, and usage - 
          <strong>but first, we had to tackle the data quality challenge</strong>.
      </p>

      <!-- Rocketship Illustration -->
      <RocketShipPlate
        leftCard={{
          type: "Business Goal",
          title: "Data Quality",
          description: "Enhance data quality and visibility"
        }}
        rightCard={{
          type: "Customer Goal",
          title: "Spend Insights",
          description: "Provide customers financial impact of expenses"
        }}
        caption="Formalizing Our Plan for Launch"
      />

      <p>
        Data cleanup may not sound exciting—I'll admin that it's about as
        thrilling as organizing your sock drawer—but it was crucial. 
        <strong>We needed to Marie Kondo our experience into a crystal-clear supplier
          system that would truly spark joy for our customers.</strong>
      </p>
      <p>
        We needed to organize our data to make it crystal clear how suppliers
        entered our system, while highlighting Tropic's advantages over a basic
        spreadsheet. This approach would provide the comprehensive financial
        reporting our customers needed and help them avoid drifting back into
        XLS space dust.
      </p>
      <p>
        To help me define the borders for our initial exploration, I prioritized
        the initiatives that could help us maximize financial reporting and
        operational value.
      </p>

      <!-- Quadrant Chart -->
      <QuadrantChart />

      <div class="spacer-large"></div>

      <!-- Polishing Data Clusters -->
      <div class="story-container-subsection">
        <h3>Polishing Data Clusters</h3>
        <p>
          To build the supplierverse, we needed to optimize several key areas
          within Tropic. We approached this by identifying distinct <strong>data
          clusters that required improvement before unifying them</strong> into a single,
          cohesive interface.
        </p>
      </div>
    </StorySection>
  </div>
</BaseLayout>

<style lang="scss">
  // Breakpoint mixins
  @use "../../styles/base/_breakpoints.scss" as *;

  // Rocketship Interaction
  .rocket-ship-narrative .floating-cards {
    &:hover ~ .rocketship {
      opacity: 0;
      transform: scale(0.5);
      transform-origin: center;
      transition-delay: 0.2s;
    }

    &:hover .floating-cards-cell {
      transform: rotate(0deg);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      z-index: 3;
      transition-delay: 0.3s;
    }
  }

  .story-container-subsection {
    margin-top: var(--spacing-quad);
    
    h3 {
      font-size: clamp(1.25rem, 3vw, 1.75rem);
      color: var(--color-ink-tertiary);
      font-family: var(--font-headings);
      margin: 0 0 var(--spacing-base);
    }
  }
</style>
