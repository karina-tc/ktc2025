---
import Atom from "./Atom.astro";
const pathname = new URL(Astro.request.url).pathname;
---

<nav
  class="sticky top-0 w-full px-10 py-6 backdrop-blur-sm color-ink bg-paper/80 dark:bg-chocolate/80 z-40 font-mono uppercase">
  <div
    class="flex gap-4 justify-between items-center flex-wrap flex-row w-full container mx-auto relative lg:flex-row lg:items-center">
    <a
      class="nav-logo flex items-center outline-none border-none bg-transparent cursor-pointer transition-all duration-300 ease-in-out"
      href="/">
      <Atom color="var(--color-coffee)" />
    </a>
    <ul
      class="flex items-center justify-center gap-2 list-none m-0 p-0 [&>li>a]:text-sm [&>li>a]:font-medium [&>li>a]:rounded-md [&>li>a]:px-3 [&>li>a]:py-2 [&>li>a]:transition-all [&>li>a]:duration-300 [&>li>a]:ease-in-out">
      <li class="nav-items">
        <a href="/" class={pathname === "/" ? "bg-ink-secondary !text-paper" : "caramel-text hover:bg-surface dark:hover:!text-ink"}>Intro</a>
      </li>
      <li class="nav-items">
        <a href="/about" class={pathname.startsWith("/about") ? "bg-ink-secondary !text-paper" : "caramel-text hover:bg-surface dark:hover:!text-ink"}
          >About</a
        >
      </li>
      <li class="nav-items">
        <a href="/work" class={pathname.startsWith("/work") ? "bg-ink-secondary !text-paper" : "caramel-text hover:bg-surface dark:hover:!text-ink"}
          >Work</a
        >
      </li>
      <li class="nav-items">
        <a href="/blog" class={pathname.startsWith("/blog") ? "bg-ink-secondary !text-paper" : "caramel-text hover:bg-surface dark:hover:!text-ink"}
          >Blog</a
        >
      </li>
    </ul>
  </div>
</nav>

<style>
  .nav-logo:hover :global(.atom-container .atom path),
  .nav-logo:focus :global(.atom-container .atom path) {
    animation: none !important;
  }
</style>
