---

---
<button class="back-to-top flex flex-col items-center justify-center fixed bottom-4 right-4 z-50 text-sm font-medium font-sans text-ink bg-paper dark:bg-ink dark:text-paper p-2 rounded-md border border-border dark:border-paper transition-all duration-300 ease-in-out hover:bg-chocolate hover:text-paper [&.darken]:bg-chocolate [&.darken]:text-paper" id="backToTop" style="display: none;">
  <span class="button-text">Back Up</span>
</button>

<script>
  const button = document.getElementById('backToTop');
  const buttonText = button?.querySelector('.button-text');
  
  function updateButtonVisibility() {
    const scrollPosition = window.scrollY;
    const viewportHeight = window.innerHeight;
    const documentHeight = document.documentElement.scrollHeight;
    const twentyPercentVH = viewportHeight * 0.2;
    const nearBottom = documentHeight - (scrollPosition + viewportHeight) < 100;
    
    if (scrollPosition > twentyPercentVH) {
      if (button) {
        button.style.display = 'flex';
        button.classList.toggle('darken', nearBottom);
      }
    } else {
      if (button) button.style.display = 'none';
    }
  }

  updateButtonVisibility();
  window.addEventListener('scroll', updateButtonVisibility);

  if (button) {
    button.addEventListener('click', () => {
      if (buttonText) buttonText.textContent = "Let's Go!";
      window.scrollTo({ top: 0, behavior: 'smooth' });
      button.style.display = 'none';
      button.classList.remove('darken');
      
      setTimeout(() => {
        if (buttonText) buttonText.textContent = 'Back Up';
      }, 1000);
    });
  }
</script>