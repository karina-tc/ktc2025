---
// Components
import BaseLayout from "../../layouts/BaseLayout.astro";
import { Image } from "astro:assets";
import { getCaseStudy } from "../../data/case-study-details";

// Data
const caseStudy = getCaseStudy("beyondContracts");

// Case Study Components
import * as Work from "../../components/work/index.js";
import Carousel from "../../components/Carousel.astro";

// Partials
import QuadrantChart from "../../components/_partials/work/QuadrantChart.astro";
import DataClusters from "../../components/_partials/work/DataClusters.astro";
import RocketShipPlate from "../../components/_partials/work/RocketShipPlate.astro";
import BackToTop from "../../components/BackToTop.astro";
import SnippetsGallery from "../../components/work/Elements/SnippetsGallery.astro";
import SnippetsGalleryItem from "../../components/work/Elements/SnippetsGalleryItem.astro";
import SplitPanels from "../../components/_partials/work/SplitPanels.astro";


//Assets
import showcaseBackground from "../../assets/backgrounds/noise-2.png";
import showcaseLogo from "../../assets/icons/cv-tropic.png";
import galaxyQuest from "../../assets/illustrations/case-studies/beyond-contracts/galaxy-quest-illus.png";
import cluster01 from "../../assets/illustrations/case-studies/beyond-contracts/data-cluster-01.svg";
import cluster02 from "../../assets/illustrations/case-studies/beyond-contracts/data-cluster-02.svg";
import cluster03 from "../../assets/illustrations/case-studies/beyond-contracts/data-cluster-03.svg";
import showcaseImage from "../../assets/case-studies/tropic/tropic-supplier-index.png";
import showcaseImage2 from "../../assets/case-studies/tropic/suppliers-catalog.png";
import integrationsIndex from "../../assets/case-studies/tropic/integrations/integrations-index.png";
import integrationsDetails from "../../assets/case-studies/tropic/integrations/integrations-details.png";
import integrationsCollaboration from "../../assets/case-studies/tropic/integrations/integrations-collaboration.png";
import astronauts from "../../assets/illustrations/case-studies/beyond-contracts/data-transparency.png";
import showcaseVideo2 from "../../assets/case-studies/tropic/integrations/ai-supplier-matching.mp4";
import exploreIllustration from "../../assets/illustrations/case-studies/beyond-contracts/explore-illus.svg";
import deriskIllustration from "../../assets/illustrations/case-studies/beyond-contracts/derisk-illus.svg";
import planIllustration from "../../assets/illustrations/case-studies/beyond-contracts/plan-illus.svg";
import Reporting01 from "../../assets/illustrations/case-studies/beyond-contracts/reporting01.svg";
import Reporting02 from "../../assets/illustrations/case-studies/beyond-contracts/reporting02.svg";
import Reporting03 from "../../assets/illustrations/case-studies/beyond-contracts/reporting03.svg";
import Reporting04 from "../../assets/illustrations/case-studies/beyond-contracts/reporting04.svg";
import dataTableExploration from "../../assets/illustrations/case-studies/beyond-contracts/data-table-exploration.png";
import contractsDemo01 from "../../assets/illustrations/case-studies/beyond-contracts/contracts-demo-01.svg";
import contractsDemo02 from "../../assets/illustrations/case-studies/beyond-contracts/contracts-demo-02.svg";
import tooltip01 from "../../assets/illustrations/case-studies/beyond-contracts/tooltips-01.png";
import tooltip02 from "../../assets/illustrations/case-studies/beyond-contracts/tooltips-02.png";
import tooltip03 from "../../assets/illustrations/case-studies/beyond-contracts/tooltips-03.png";

// Check access
import { checkAccess, hasValidAccessToken } from "../../middleware/checkAccess";
if (Astro.url.pathname && checkAccess(Astro.url.pathname)) {
  const cookies = Astro.request.headers.get("cookie") || "";

  if (!hasValidAccessToken(cookies)) {
    return Astro.redirect(`/work/access?redirect=${Astro.url.pathname}`);
  }
}
---

<BaseLayout title={caseStudy.title} description={caseStudy.description}>
  <!-- Back to Top Button -->
  <BackToTop />

  <!-- Case Study Header -->
  <Work.CaseStudyHeader {...caseStudy} />

  <!-- Showcase -->
  <Work.LargeShowcase
    background={showcaseBackground}
    caption={{
      icon: showcaseLogo,
      title: "What is Tropic?",
      description:
        "Tropic is an intake-to-procure platform that helps companies of all sizes—from startups to enterprises like OpenAI—manage their supplier relationships and reduce unnecessary spending.",
    }}
  >
    <Image
      src={showcaseImage}
      alt="show case image"
      draggable="false"
      width={1220}
      priority
    />
  </Work.LargeShowcase>

  <!-- Spacer -->
  <div class="spacer-small"></div>

  <!-- Case Study Content -->
  <div class="section-container">
    <!-- Impact Section -->
    <Work.ImpactSection
      metrics={[
        {
          metric: "Time Savings",
          value: "+4hrs",
          description: "per week per customer",
        },
        {
          metric: "Customer Engagement",
          value: "+35%",
          description: "increase in engagement",
        },
        {
          metric: "Data Accuracy",
          value: "+50%",
          description: "increase in accuracy",
        },
      ]}
    />

    <div class="spacer-massive"></div>

    <!-- Problem -->
    <Work.StorySection
      kicker="Problem"
      title="Beyond the Contract Horizon"
      spacing="none"
    >
      <p>
        Built initially around contracts, Tropic's platform faced a critical
        limitation: <strong
          >suppliers without contracts remained invisible, preventing complete
          spend tracking</strong
        >. Our 2023 customer interviews highlighted this as a major concern.
      </p>
      <p>
        The impact was significant. Shadow spend became harder to track, and <strong
          >customers resorted to using spreadsheets instead of our platform</strong
        >. We needed to reimagine our approach by making suppliers, not
        contracts, the central focus of our platform—creating what we called the
        "supplierverse."
      </p>
      <p>
        <strong>A great solution would increase customers...</strong>
      </p>
      <div class="spacer-small"></div>
      <Work.GridFeatures
        features={[
          {
            title: "Visibility",
            description:
              "360 view of all supplier relationships and spending across the organization",
            isStandout: true,
          },
          {
            title: "Focus",
            description:
              "Streamlined supplier management without difficulties and distractions",
          },
          {
            title: "Clarity",
            description:
              "Clear insights into supplier data, contracts, and spending patterns",
          },
        ]}
      />
    </Work.StorySection>

    <div class="spacer-massive"></div>

    <!-- Discovery -->
    <Work.StorySection
      kicker="Discovery"
      title="Galaxy Quest"
      spacing="none"
      artwork={{
        image: galaxyQuest,
        alt: "Galaxy Quest",
        width: 320,
      }}
    >
      <p>
        To make our experience a supplier centric one, I looked at all the data
        objects that made up a supplier so that we could built that universe.
        Through conversations with our Account Executives about customer
        onboarding, we studied how both clients and our team set up Tropic
        accounts. A clear pattern emerged: the <strong
          >key components of a supplier existed in isolation</strong
        >—like separate moons orbiting without any connection to each other.
      </p>
    </Work.StorySection>

    <div class="spacer-massive"></div>

    <!-- Strategy -->
    <Work.StorySection
      kicker="Strategizing"
      title="Mission Control"
      spacing="none"
    >
      <p>
        With supplier data scattered across our procurement universe, we needed
        a mission control center to bring order to the chaos. <strong
          >Our customers needed a single source of truth</strong
        > that would give them complete visibility into their supplier expenses,
        commitments, and usage -
        <strong>but first, we had to tackle the data quality challenge</strong>.
      </p>

      <!-- Rocketship Illustration -->
      <RocketShipPlate
        leftCard={{
          type: "Business Goal",
          title: "Data Quality",
          description: "Enhance data quality and visibility",
        }}
        rightCard={{
          type: "Customer Goal",
          title: "Spend Insights",
          description: "Provide customers financial impact of expenses",
        }}
        caption="Formalizing Our Plan for Launch"
      />

      <p>
        Data cleanup may not sound exciting—I'll admin that it's about as
        thrilling as organizing your sock drawer—but it was crucial.
        <strong
          >We needed to Marie Kondo our experience into a crystal-clear supplier
          system that would truly spark joy for our customers.</strong
        >
      </p>
      <p>
        We needed to organize our data to make it crystal clear how suppliers
        entered our system, while highlighting Tropic's advantages over a basic
        spreadsheet. This approach would provide the comprehensive financial
        reporting our customers needed and help them avoid drifting back into
        XLS space dust.
      </p>
      <p>
        To help me define the borders for our initial exploration, I prioritized
        the initiatives that could help us maximize financial reporting and
        operational value.
      </p>

      <!-- Quadrant Chart -->
      <QuadrantChart />

      <div class="spacer-large"></div>

      <!-- Polishing Data Clusters -->
      <h3>Polishing Data Clusters</h3>
      <p>
        To build the supplierverse, we needed to optimize several key areas
        within Tropic. We approached this by identifying distinct <strong
          >data clusters that required improvement before unifying them</strong
        > into a single, cohesive interface.
      </p>

      <div class="spacer-small"></div>

      <DataClusters
        clusters={[
          {
            icon: cluster01,
            title: "Integrations",
            description:
              "How suppliers are created in Tropic through connected integrations, which can either be the original source of a supplier or provide additional supplier data.",
          },
          {
            icon: cluster02,
            title: "Requests & Contracts",
            description:
              "Suppliers can also originate within Tropic when users submit purchase requests or add new contracts.",
          },
          {
            icon: cluster03,
            title: "Spend Expenses",
            description:
              "Suppliers may or may not have associated costs. The expenses view reveals each supplier's actual financial impact on overall spending.",
          },
        ]}
      />
    </Work.StorySection>

    <div class="spacer-large"></div>

    <!-- Solutioning -->
    <Work.StorySection kicker="Solutioning" title="Universe Building">
      <p>
        With supplier data scattered across our procurement universe, we needed
        a mission control center to bring order to the chaos. Our customers
        needed a single source of truth that would give them complete visibility
        into their supplier expenses, commitments, and usage - but first, we had
        to tackle the data quality challenge.
      </p>

      <div class="spacer-small"></div>

      <h3>Data Integrations</h3>
      <p>
        We began with the foundation: data integrations, which are the primary
        source of supplier information in Tropic. We re-architected our
        integrations pages to answer four key questions:
      </p>

      <ol>
        <li>What data can I bring into Tropic?</li>
        <li>How can I ensure my data is as accurate as possible?</li>
        <li>How can I monitor the status of my data?</li>
        <li>How can I trace the origin of my supplier data?</li>
      </ol>
    </Work.StorySection>
  </div>

  <div class="spacer-large"></div>

  <!-- Scrollable Gallery -->
  <Work.ScrollableGallery
    items={[
      {
        image: integrationsIndex,
        alt: "Integrations Index",
        title: "New Integrations Page",
        description:
          "Elevated from hidden settings to become a central feature. Enhanced with filters and restructured categories to focus on value rather than market type.",
      },
      {
        image: integrationsDetails,
        alt: "Integrations Details",
        title: "Integrations Details",
        description:
          "Each integration has a detailed view that shows the data that is being brought into Tropic and the status of the data.",
      },
      {
        image: integrationsCollaboration,
        alt: "Collaboration",
        title: "Collaboration",
        description:
          "Customers can now collaborate on connecting integrations to make sure connections are made correctly.",
      },
    ]}
  />

  <div class="spacer-large"></div>

  <Work.StorySection subtitle="AI Supplier Matching" spacing="none">
    <p>
      Onboarding in Tropic can be lengthy since we ensure data accuracy while
      setting up a user's account. To expedite this process and allow customers
      and account executives to focus on complex data translations, we needed to
      use AI to enhance supplier matching between ERPs and Tropic.
    </p>
  </Work.StorySection>

  <div class="spacer-large"></div>

  <Work.ProductShot maxWidth="1220px">
    <video
      src={showcaseVideo2}
      autoplay="true"
      muted="true"
      loop="true"
      class="w-full"></video>
    <p class="plate-caption" slot="caption">AI Supplier Matching</p>
  </Work.ProductShot>

  <div class="spacer-large"></div>

  <Work.StorySection subtitle="Data Transparency" spacing="none">
    <p>
      With improved data connection management, we needed to explore how users
      could see all their data in one clear surface. Over two weeks of
      explorations, we went deep on how the supplierverse could provide value to
      both finance and procurement teams. For this rocket ship to launch
      successfully, we had to make both these personas happy.
    </p>
    <p>
      After these explorations, I met with the Product and Engineering leads to
      refine our initial designs, focusing on what we knew would succeed. Since
      our team was newly formed, we decided to pursue achievable wins rather
      than moonshot ideas to build credibility with stakeholders and gain
      momentum in our work.
    </p>

    <Work.ImageShot
      maxWidth="1220px"
      title="Figure III."
      caption="Finance and Procurement Conquering Planet Spend"
    >
      <Image
        class="astronauts"
        src={astronauts}
        alt="2 astronauts looking at each other"
        width={885}
        draggable={false}
        loading="lazy"
      />
    </Work.ImageShot>
  </Work.StorySection>

  <SplitPanels
    panels={[
      {
        title: "Explore",
        image: exploreIllustration,
        imageWidth: 418,
      },
      {
        title: "Derisk",
        image: deriskIllustration,
        imageWidth: 371,
      },
      {
        title: "Plan",
        image: planIllustration,
        imageWidth: 455,
      },
    ]}
  />

  <Work.StorySection subtitle="Data Reporting" spacing="none">
    <p>
      Throughout our explorations, I focused on showing glimpses of potential
      features. However, I became convinced that data clarity alone wouldn't
      justify our customers' investment in Tropic. What we needed to build—and
      what our design partners were actively seeking—was a way to demonstrate
      how supplier costs affected their bottom line. Enter, the finance super
      galaxy.
    </p>
    <p>
      While I'm not a financial scientist myself, I was lucky to partner with a
      Product Lead who had universal knowledge of what finance teams scan for
      when searching for spend signals. Plus, another crew had already done the
      heavy lifting of making it easier for customers to plot their contract
      coordinates and cost trajectories. This alignment of the stars helped us
      launch our Contracts vs Actual mission into orbit.
    </p>
  </Work.StorySection>

  <Carousel
    id="reporting-carousel"
    label="Figure IV. Explorations into Reporting"
    items={[
      {
        title: "Plate I.",
        description:
          "Tests showed separating spend and variance improved clarity",
        image: Reporting01,
        alt: "Saved styles interface",
      },
      {
        title: "Plate II.",
        description:
          "We split the charts but kept the data together for clarity",
        image: Reporting02,
        alt: "Components interface",
      },
      {
        title: "Plate III.",
        description:
          "Expanded variance analysis visuals to show differences over time",
        image: Reporting03,
        alt: "Reporting 03",
      },
      {
        title: "Plate IV.",
        description:
          "Added an insights panel to highlight potential report inaccuracies",
        image: Reporting04,
        alt: "Reporting 04",
      },
    ]}
  />

  <div class="spacer-large"></div>

  <Work.StorySection subtitle="Data Table Exploration" spacing="none">
    <p>
      Initially, I had proposed adding as much detail as we could to the table.
      This included adding contracts, requests and usage data. However, as the
      work progressed we realized that adding that data into the index might
      cause our application to become very slow. So that soon evolved into a
      data exercise to optimize our data and make our reporting more nimble to
      any filtering changes by our customers.
    </p>
    <p>
      We removed this feature from the initial launch due to time constraints.
      This turned out to be a blessing in disguise, as I had concerns about how
      our time-sensitive reporting would handle time-bound data. Our final table
      was straightforward yet effective. Soon after launch, we saw Account
      Executives and customers taking action to improve accounts' contract data
      and ensure their integrations were properly connected.
    </p>
  </Work.StorySection>

  <Work.ImageShot
    maxWidth="1220px"
    title="Figure V. Data-Table Exploration"
    caption="Laying out all the data for our new supplier tables in one view"
  >
    <Image
      src={dataTableExploration}
      alt="View of sketches for data table exploration"
      width={920}
      draggable={false}
      loading="lazy"
    />
  </Work.ImageShot>

  <div class="spacer-large"></div>

  <Work.StorySection
    kicker="Systems Thinking"
    title="Data Satellites"
    spacing="small"
  >
    <p>
      During this work, I led the creation of a foundational analytics system
      that orbited around three key components:
    </p>
    <ul>
      <li>
        Data Accessibility: Mapping out how users could navigate and access
        information
      </li>
      <li>
        UI Components: Designing reusable elements that formed our analytics
        constellation
      </li>
      <li>
        Developer Collaboration: Working closely with engineers to contribute
        code that brought the system to life
      </li>
    </ul>
    <p>
      Like a well-designed space station, this system became a central hub that
      other teams could dock into&mdash;providing them with a pre-built
      foundation for crafting their own analysis tools.
    </p>
  </Work.StorySection>

  <div class="spacer-huge"></div>

  <SnippetsGallery columns={3}>
    <SnippetsGalleryItem
      image={tooltip01}
      imageAlt="tooltip-01"
      caption="Added FX Tooltips to our codebase"
      maxWidth={320}
    />

    <SnippetsGalleryItem
      image={tooltip03}
      imageAlt="tooltip-03"
      caption="Added a formula definition tooltip"
      maxWidth={360}
    />

    <SnippetsGalleryItem
      image={tooltip02}
      imageAlt="tooltip-02"
      caption="Added more complex tooltips to handle more complex previews"
      maxWidth={240}
    />
  </SnippetsGallery>

  <div style="height: 24px;"></div>

  <SnippetsGallery>
    <SnippetsGalleryItem
      large
      title="Contracts Details Page"
      image={contractsDemo01}
      imageAlt="contracts-demo-01"
      caption="Charting can now be added to pages that need financial insights"
      maxWidth={880}
      imageStyles="margin:20px auto; filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.1)); border: 4px solid var(--color-surface); border-radius: 10px;"
    />

    <SnippetsGalleryItem
      large
      title="Pricing Benchmark Report"
      image={contractsDemo02}
      imageAlt="contracts-demo-02"
      caption="I used our system to also economize on development for our benchmarks report"
      maxWidth={880}
      imageStyles="margin:20px auto; filter: drop-shadow(0 0 10px rgba(0, 0, 0, 0.1)); border: 4px solid var(--color-surface); border-radius: 10px;"
    />
  </SnippetsGallery>

  <div class="spacer-large"></div>

  <Work.StorySection kicker="Launch" title="We Have Liftoff!" spacing="quad">
    <p>
      Our mission to make suppliers the heart of our platform was a success,
      transforming how customers interact with and manage their vendor
      relationships. The new supplier-centric design dramatically improved data
      visibility and financial reporting capabilities.
    </p>
    <p>
      Moving forward, we're expanding on this foundation by creating a
      comprehensive supplier database view that will bring all vendor
      information together in one central location. This enhancement will
      further streamline our customers' experience and complete our vision for
      unified supplier management—ensuring all our data points align perfectly
      in our supplier centric universe.
    </p>
    <h3>What we achieved</h3>
    <ul>
      <li>Made suppliers the central focus of the platform.</li>
      <li>Improved data visibility and tracking for all suppliers.</li>
      <li>Enhanced financial reporting with clear insights.</li>
      <li>Simplified supplier onboarding and data cleanup.</li>
      <li>Introduced AI-powered supplier matching for better accuracy.</li>
      <li>Developed reusable systems for analytics and reporting.</li>
      <li>Created a polished, user-friendly design experience.</li>
    </ul>
  </Work.StorySection>

  <Work.LargeShowcase
    background={showcaseBackground}
    backgroundFull
    caption={{
      title: "We're continuing to build on this foundation",
      description:
        "Soon, customers will be able to access their entire history of suppliers for better procurement control and collaboration between finance and procurement.",
    }}
  >
    <Image
      src={showcaseImage2}
      alt="show case image"
      draggable="false"
      width={1220}
      priority
    />
  </Work.LargeShowcase>

  <Work.Footer />
</BaseLayout>

<style lang="scss" scoped>
  // Breakpoint mixins
  @import "../../styles/base/_breakpoints.scss";

  .section-container.no-gap {
    margin-top: -40px;
    margin-bottom: -40px;
  }
  .open-canvas {
    width: 100%;
    margin: var(--spacing-quad) 0;
    padding: var(--spacing-double) var(--spacing-base);
    background-color: var(--color-surface);

    .canvas-container {
      width: 90%;
      max-width: 1220px;
      margin: 0 auto;
    }
  }

  .split-panels {
    .panel-container {
      display: flex;
      flex-direction: row;
      gap: var(--spacing-base);

      .panel {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: var(--spacing-small);
        padding: var(--spacing-base) var(--spacing-base) 0;

        &:not(:last-child) {
          border-right: 1px solid var(--color-border);
        }
      }
      @include tablet {
        flex-direction: column;
        .panel {
          align-items: center;
          border-right: 0px !important;
          padding-bottom: var(--spacing-double);
          &:not(:last-child) {
            border-bottom: 1px solid var(--color-border);
          }
        }
      }
    }
    @include mobile {
      margin-top: var(--spacing-base);
      margin-bottom: var(--spacing-base);
    }
  }

  .data-table-exploration,
  .systems-demo {
    .plate-label,
    .plate-caption {
      text-align: center;
      width: 100%;
      display: block;
    }
  }
  .data-table-exploration {
    img {
      width: 90%;
      max-width: 920px;
      margin: 0 auto;
    }

    p {
      max-width: var(--max-width-narrow-small);
      margin: var(--spacing-double) auto;
    }
  }

  .systems-demo {
    .contracts-demo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-base);
      position: relative;
      padding: var(--spacing-double) 0 var(--spacing-base);
      z-index: 1;

      @include desktop-reverse {
        flex-direction: row;
      }

      img {
        max-width: 580px;
        height: auto;
        border: 10px solid rgba(255, 255, 255, 0.5);
        border-radius: 10px;
        box-shadow: 0 12px 20px -12px rgba(81, 64, 41, 0.4);
        transition: all 0.3s ease-in-out;

        @include desktop-reverse {
          cursor: pointer;
          max-width: 800px;
          &:first-child {
            position: absolute;
            top: 10%;
            left: 0;

            &:hover {
              z-index: 1;

              & ~ img {
                z-index: 0;
                opacity: 0.5;
              }
            }
          }

          &:last-child {
            z-index: 1;
            margin-top: 20%;
            margin-left: 50%;
          }
        }

        @include tablet {
          max-width: 90%;
        }
      }
    }

    .tooltips-container {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      gap: var(--spacing-base);
      position: relative;
      z-index: 1;
      padding: var(--spacing-double) 0 var(--spacing-base);

      @include tablet {
        flex-direction: column;
        padding-bottom: 0;
      }

      figure {
        height: auto;
        z-index: 2;
        display: flex;
        align-items: center;
        justify-content: center;

        img {
          width: auto;
          height: auto;
        }

        @include desktop-reverse {
          width: 25%;
          min-width: 280px;
        }
      }
    }
  }
</style>
