---
interface Feature {
  title: string;
  description: string;
  isStandout?: boolean;
}

interface Props {
  features: Feature[];
  stackThird?: boolean;
}

const { features, stackThird = false } = Astro.props;
---

<div class={`section-grid ${stackThird ? 'stack-third' : ''}`}>
  {
    features.map((feature) => (
      <div class="section-item">
        <h3>{feature.title}</h3>
        <hr />
        <p>{feature.description}</p>
      </div>
    ))
  }
</div>

<style lang="scss">
  @use "../../styles/base/_breakpoints.scss" as *;

  .section-grid {
    display: grid;
    gap: var(--spacing-base);
    grid-template-columns: repeat(3, 1fr);  // Default to 3 columns on mobile

    &.stack-third {
      grid-template-columns: repeat(2, 1fr);  // 2 columns when stacking on mobile
      
      .section-item:nth-child(3) {
        grid-column: 1 / -1;
        min-height: 300px;
        
        p {
          max-width: 75ch;
          margin: 0;
        }
      }

      @include mobile {
        grid-template-columns: 1fr;  // Stack everything on very small screens
        
        .section-item:nth-child(3) {
          grid-column: 1;
          min-height: unset;
        }
      }
    }

    @include tablet {
      grid-template-columns: 1fr;  // Single column (rows) on tablet and up
      
      &.stack-third .section-item:nth-child(3) {
        grid-column: 1;
        min-height: unset;
      }
    }

    .section-item {
      display: flex;
      flex-direction: column;
      padding: var(--spacing-base);
      font-size: var(--font-size-base);
      border-radius: 6px;
      background-color: var(--color-surface);

      &.standout {
        background-color: var(--color-ink);

        h3 {
          color: var(--color-surface);
          margin-top: 0;
        }

        hr {
          border-color: var(--color-coffee);
        }

        p {
          color: var(--color-paper);
        }
      }

      h3 {
        font-family: var(--font-headings);
        font-size: clamp(1.5rem, 5vw, 1.5rem);
        color: var(--color-ink-tertiary);
        margin-top: var(--spacing-xsmall);
      }

      hr {
        border: 1px solid var(--color-border);
        margin: var(--spacing-base) 0;
      }

      p {
        color: var(--color-ink);
      }
    }
  }
</style> 